
FIX:
trunk/src/wp-includes/post.php
foreach ( $group_by_status as $status => $comments ) {
// Sanity check. This shouldn&#039;t happen.
- if ( &#039;post-trashed&#039; == $status )
+ if ( &#039;post-trashed&#039; == $status ) {
$status = &#039;0&#039;;
- $comments_in = implode( "&#039;, &#039;", $comments );
- $wpdb->query( "UPDATE $wpdb->comments SET comment_approved = &#039;$status&#039; WHERE comment_ID IN (&#039;" . $comments_in . "&#039;)" );
+ }
+ $comments_in = implode( &#039;, &#039;, array_map( &#039;intval&#039;, $comments ) );
}

